{"ast":null,"code":"var _jsxFileName = \"/Users/saksham/Documents/Projects/SRSProject/frontend/src/components/SearchRecommendedProducts.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./SearchRecommendedProducts.css\"; // Updated CSS for tile layout\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst RecommendedProducts = () => {\n  _s();\n  const [recommendedProducts, setRecommendedProducts] = useState([]);\n  const [visibleProducts, setVisibleProducts] = useState([]);\n  const [noProductsMessage, setNoProductsMessage] = useState(\"\");\n  const [page, setPage] = useState(1);\n\n  // Load more products when the \"View More\" button is clicked\n  const handleViewMore = () => {\n    setPage(prev => prev + 1); // Increment the page to load next batch\n  };\n  useEffect(() => {\n    // Fetch products with 4+ rating and update the state\n    const fetchRecommendedProducts = async () => {\n      try {\n        const url = `${process.env.REACT_APP_API_BACKEND}products?minRating=4&page=${page}&limit=8`;\n        const response = await fetch(url);\n        const data = await response.json();\n        const productArray = Array.isArray(data) ? data : Object.values(data);\n        if (productArray.length > 0) {\n          setRecommendedProducts(prev => [...prev, ...productArray]);\n          setNoProductsMessage(\"\");\n        } else {\n          setNoProductsMessage(\"No recommended products available.\");\n        }\n      } catch (error) {\n        console.error(\"Error fetching recommended products:\", error);\n        setNoProductsMessage(\"Error fetching recommended products. Please try again later.\");\n      }\n    };\n    fetchRecommendedProducts();\n  }, [page]);\n\n  // Show the first 8 products, then more when the \"View More\" button is clicked\n  useEffect(() => {\n    setVisibleProducts(recommendedProducts.slice(0, page * 8));\n  }, [recommendedProducts, page]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"recommended-products-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Recommended Products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), visibleProducts.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-grid\",\n        children: visibleProducts.map(product => /*#__PURE__*/_jsxDEV(Link, {\n          to: `/product/${product.product_id}`,\n          className: \"product-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: product.product_image_url,\n            alt: product.product_name,\n            className: \"product-image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"product-name\",\n            children: product.product_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"product-price\",\n            children: [\"\\u20B9\", product.product_price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 33\n          }, this)]\n        }, product.product_id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleViewMore,\n        className: \"view-more-btn\",\n        children: \"View More\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: noProductsMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n};\n_s(RecommendedProducts, \"72fVxL0rWCYRnr948dMKve/mpU8=\");\n_c = RecommendedProducts;\nexport default RecommendedProducts;\nvar _c;\n$RefreshReg$(_c, \"RecommendedProducts\");","map":{"version":3,"names":["React","useState","useEffect","Link","jsxDEV","_jsxDEV","Fragment","_Fragment","RecommendedProducts","_s","recommendedProducts","setRecommendedProducts","visibleProducts","setVisibleProducts","noProductsMessage","setNoProductsMessage","page","setPage","handleViewMore","prev","fetchRecommendedProducts","url","process","env","REACT_APP_API_BACKEND","response","fetch","data","json","productArray","Array","isArray","Object","values","length","error","console","slice","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","product","to","product_id","src","product_image_url","alt","product_name","product_price","onClick","_c","$RefreshReg$"],"sources":["/Users/saksham/Documents/Projects/SRSProject/frontend/src/components/SearchRecommendedProducts.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./SearchRecommendedProducts.css\"; // Updated CSS for tile layout\n\nconst RecommendedProducts = () => {\n    const [recommendedProducts, setRecommendedProducts] = useState([]);\n    const [visibleProducts, setVisibleProducts] = useState([]);\n    const [noProductsMessage, setNoProductsMessage] = useState(\"\");\n    const [page, setPage] = useState(1);\n\n\n\n    // Load more products when the \"View More\" button is clicked\n    const handleViewMore = () => {\n        setPage((prev) => prev + 1);  // Increment the page to load next batch\n    };\n\n    useEffect(() => {\n        // Fetch products with 4+ rating and update the state\n        const fetchRecommendedProducts = async () => {\n            try {\n                const url = `${process.env.REACT_APP_API_BACKEND}products?minRating=4&page=${page}&limit=8`;\n                const response = await fetch(url);\n                const data = await response.json();\n                const productArray = Array.isArray(data) ? data : Object.values(data);\n\n                if (productArray.length > 0) {\n                    setRecommendedProducts((prev) => [...prev, ...productArray]);\n                    setNoProductsMessage(\"\");\n                } else {\n                    setNoProductsMessage(\"No recommended products available.\");\n                }\n            } catch (error) {\n                console.error(\"Error fetching recommended products:\", error);\n                setNoProductsMessage(\"Error fetching recommended products. Please try again later.\");\n            }\n        };\n        fetchRecommendedProducts();\n    }, [page]);\n\n    // Show the first 8 products, then more when the \"View More\" button is clicked\n    useEffect(() => {\n        setVisibleProducts(recommendedProducts.slice(0, page * 8));\n    }, [recommendedProducts, page]);\n\n    return (\n        <div className=\"recommended-products-container\">\n            <h3>Recommended Products</h3>\n            {visibleProducts.length > 0 ? (\n                <>\n                    <div className=\"product-grid\">\n                        {visibleProducts.map((product) => (\n                            <Link to={`/product/${product.product_id}`} key={product.product_id} className=\"product-card\">\n                                <img\n                                    src={product.product_image_url}\n                                    alt={product.product_name}\n                                    className=\"product-image\"\n                                />\n                                <h4 className=\"product-name\">{product.product_name}</h4>\n                                <p className=\"product-price\">â‚¹{product.product_price}</p>\n                            </Link>\n                        ))}\n                    </div>\n\n                    <button onClick={handleViewMore} className=\"view-more-btn\">\n                        View More\n                    </button>\n                </>\n            ) : (\n                <p>{noProductsMessage}</p>\n            )}\n        </div>\n    );\n};\n\nexport default RecommendedProducts;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}