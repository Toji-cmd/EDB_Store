{"ast":null,"code":"var _jsxFileName = \"/Users/saksham/Documents/Projects/SRSProject/frontend/src/components/ProfilePage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProfilePage = () => {\n  _s();\n  const [user, setUser] = useState(null);\n  const [token, setToken] = useState(localStorage.getItem(\"token\") || \"\");\n  const [history, setHistory] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  useEffect(() => {\n    fetchUserData();\n  }, [token]);\n  const fetchUserData = async () => {\n    if (!token) return;\n    try {\n      const response = await fetch(`http://localhost:3300/user?token=${token}`);\n      const data = await response.json();\n      if (response.ok) {\n        setUser(data.user);\n        setHistory(data.user.history || \"\");\n        setAddress(data.user.address || \"\");\n        setPhone(data.user.phone || \"\");\n      } else {\n        setMessage(data.message);\n      }\n    } catch (error) {\n      setMessage(\"Error fetching user data\");\n    }\n  };\n  const updateUserData = async () => {\n    let updateQuery = `?token=${token}`;\n    if (history) updateQuery += `&history=${history}`;\n    if (address) updateQuery += `&address=${address}`;\n    if (phone) updateQuery += `&phone=${phone}`;\n    try {\n      const response = await fetch(`http://localhost:3300/user/update${updateQuery}`, {\n        method: \"POST\"\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setMessage(data.message);\n        fetchUserData(); // Refresh user data\n      } else {\n        setMessage(data.message);\n      }\n    } catch (error) {\n      setMessage(\"Error updating user data\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: \"500px\",\n      margin: \"auto\",\n      padding: \"20px\",\n      textAlign: \"center\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Profile Page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"red\"\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 25\n    }, this), user ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 24\n        }, this), \" \", user.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"History:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: history,\n        onChange: e => setHistory(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Address:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: address,\n        onChange: e => setAddress(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Phone:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: phone,\n        onChange: e => setPhone(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: updateUserData,\n        style: {\n          marginTop: \"10px\"\n        },\n        children: \"Update Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading user data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n};\n_s(ProfilePage, \"HFzur75PPwK5yAOpk/+j3FWRyok=\");\n_c = ProfilePage;\nexport default ProfilePage;\nvar _c;\n$RefreshReg$(_c, \"ProfilePage\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","ProfilePage","_s","user","setUser","token","setToken","localStorage","getItem","history","setHistory","address","setAddress","phone","setPhone","message","setMessage","fetchUserData","response","fetch","data","json","ok","error","updateUserData","updateQuery","method","style","maxWidth","margin","padding","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","color","email","type","value","onChange","e","target","onClick","marginTop","_c","$RefreshReg$"],"sources":["/Users/saksham/Documents/Projects/SRSProject/frontend/src/components/ProfilePage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nconst ProfilePage = () => {\n    const [user, setUser] = useState(null);\n    const [token, setToken] = useState(localStorage.getItem(\"token\") || \"\");\n    const [history, setHistory] = useState(\"\");\n    const [address, setAddress] = useState(\"\");\n    const [phone, setPhone] = useState(\"\");\n    const [message, setMessage] = useState(\"\");\n\n    useEffect(() => {\n        fetchUserData();\n    }, [token]);\n\n    const fetchUserData = async () => {\n        if (!token) return;\n\n        try {\n            const response = await fetch(`http://localhost:3300/user?token=${token}`);\n            const data = await response.json();\n\n            if (response.ok) {\n                setUser(data.user);\n                setHistory(data.user.history || \"\");\n                setAddress(data.user.address || \"\");\n                setPhone(data.user.phone || \"\");\n            } else {\n                setMessage(data.message);\n            }\n        } catch (error) {\n            setMessage(\"Error fetching user data\");\n        }\n    };\n\n    const updateUserData = async () => {\n        let updateQuery = `?token=${token}`;\n        if (history) updateQuery += `&history=${history}`;\n        if (address) updateQuery += `&address=${address}`;\n        if (phone) updateQuery += `&phone=${phone}`;\n\n        try {\n            const response = await fetch(`http://localhost:3300/user/update${updateQuery}`, {\n                method: \"POST\",\n            });\n\n            const data = await response.json();\n            if (response.ok) {\n                setMessage(data.message);\n                fetchUserData(); // Refresh user data\n            } else {\n                setMessage(data.message);\n            }\n        } catch (error) {\n            setMessage(\"Error updating user data\");\n        }\n    };\n\n    return (\n        <div style={{ maxWidth: \"500px\", margin: \"auto\", padding: \"20px\", textAlign: \"center\" }}>\n            <h2>Profile Page</h2>\n            {message && <p style={{ color: \"red\" }}>{message}</p>}\n\n            {user ? (\n                <>\n                    <p><strong>Email:</strong> {user.email}</p>\n                    <label>History:</label>\n                    <input type=\"text\" value={history} onChange={(e) => setHistory(e.target.value)} />\n\n                    <label>Address:</label>\n                    <input type=\"text\" value={address} onChange={(e) => setAddress(e.target.value)} />\n\n                    <label>Phone:</label>\n                    <input type=\"text\" value={phone} onChange={(e) => setPhone(e.target.value)} />\n\n                    <button onClick={updateUserData} style={{ marginTop: \"10px\" }}>Update Profile</button>\n                </>\n            ) : (\n                <p>Loading user data...</p>\n            )}\n        </div>\n    );\n};\n\nexport default ProfilePage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}